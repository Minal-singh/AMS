{% extends "admin_templates/base.html" %} 
{% load static %}
{% block head %}
<link rel="stylesheet" type="text/css" href= {% static 'css/dashboard.css' %}>
{% endblock head %}
{% block title %}
Dashboard
{% endblock title %} 
{% block content %}

<!-- Cards Section -->
<section class="cards-section">
<div class="container mt-4">
    <div class="row">
        <div class="col-md-4">
            <div class="card bg-c-blue order-card">
                <div class="card-block">
                    <h3 class="m-b-20">Total Students</h3>
                    <h2 class="text-right"><i class="fa-solid fa-users f-left"></i><span class="f-right">486</span></h2>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card bg-c-green order-card">
                <div class="card-block">
                    <h3 class="m-b-20">Present Today</h3>
                    <h2 class="text-right"><i class="fa-solid fa-user-check f-left"></i><span class="f-right">486</span></h2>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card bg-c-yellow order-card">
                <div class="card-block">
                    <h3 class="m-b-20">Absent Today</h3>
                    <h2 class="text-right"><i class="fa-solid fa-user-xmark f-left"></i><span class="f-right">486</span></h2>
                </div>
            </div>
        </div>
	</div>
</div>
</section>

<!-- Table Section -->
<div class="container">
<form method="GET">
    <div class="row">
        {% for field in filter.form %}
        <div class="col">
            <b>{{field.label_tag}}</b> {{field}}
        </div>
        {% endfor %}
    </div>
    <input class="btn btn-primary mt-2" type="submit" value="Search" />
</form>
<section class="table-section">
    <div class="container rounded mt-5 bg-white p-md-5">
    <div class="h2 font-weight-bold">Students</div>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Name</th>                    
                    <th scope="col">Email</th>                    
                    <th scope="col">Roll Number</th>                    
                    <th scope="col">Status</th>               
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                
                <tr class="bg-blue"> 
                    <td class="pt-2">
                    {% if student.user.profile_pic %}
                    <img src={% static "student.user.profile_pic.url" %} class="rounded-circle table-img" alt="">
                    {% elif student.user.gender == "M" %}
                    <img src={% static "img/male.png" %} class="rounded-circle table-img" alt="">
                    {% else %}
                    <img src={% static "img/female.png" %} class="rounded-circle table-img" alt="">
                    {% endif %}   
                    <div class="pl-lg-5 pl-md-3 pl-1 name">{{student.user.first_name}} {{student.user.last_name}}</div>
                    </td>                  
                    <td class="pt-3 mt-1">{{student.user.email}}</td>
                    <td class="pt-3">{{student.roll_no}}</td>
                    <td class="pt-3"><span class="fa fa-check pl-3"></span></td>
                    <td class="pt-3"><span class="fa fa-ellipsis-v btn"></span></td>
                </tr>
                <tr id="spacing-row">
                    <td></td>
                </tr>
                
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
</section>
</div>

<!-- Charts -->
<section class="charts-section">
    <div class="container row">
        <div class="col-6"><canvas id="myChart" width="200" height="100"></canvas></div>
        <div class="col-6"></div>
    </div>
</section>
<script type="text/javascript" src={% static "js/dashboard.js" %}></script>
{% endblock content %}
